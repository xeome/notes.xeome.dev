<!doctype html><html lang=en><head><meta charset=utf-8><meta name=description content="WIP
Link-state routing protocols In a link-state routing protocol, routers exchange information about the state of their own links through a process called link-state advertising."><title>ðŸª´ Quartz 3.3</title><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon" type=image/png href=https://xeome.github.io//icon.png><link href=https://xeome.github.io/styles.706bb6073ba85d26809f9096dae23a6b.min.css rel=stylesheet><link href=https://xeome.github.io/styles/_light_syntax.86a48a52faebeaaf42158b72922b1c90.min.css rel=stylesheet id=theme-link><script src=https://xeome.github.io/js/darkmode.7f967d9bd2d1cac02e762b5c57efc6ae.min.js></script>
<script src=https://xeome.github.io/js/util.5e39932758f9ecaf45fd54506ed61416.min.js></script>
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css integrity=sha384-R4558gYOUz8mP9YWpZJjofhk+zx0AS11p36HnD2ZKj/6JR5z27gSSULCNHIRReVs crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js integrity=sha384-z1fJDqw8ZApjGO3/unPWUPsIymfsJmyrDVWC8Tv/a1HeOtGmkwNd/7xUS0Xcnvsx crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/auto-render.min.js integrity=sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.2/dist/contrib/copy-tex.min.js integrity=sha384-ww/583aHhxWkz5DEVn6OKtNiIaLi2iBRNZXfJRiY1Ai7tnJ9UXpEsyvOITVpTl4A crossorigin=anonymous></script>
<script src=https://unpkg.com/@floating-ui/core@0.7.3></script>
<script src=https://unpkg.com/@floating-ui/dom@0.5.4></script>
<script src=https://xeome.github.io/js/popover.6da9b273c092cc16fc1aa904d71a2163.min.js></script>
<script src=https://xeome.github.io/js/code-title.b35124ad8db0ba37162b886afb711cbc.min.js></script>
<script src=https://xeome.github.io/js/clipboard.c20857734e53a3fb733b7443879efa61.min.js></script>
<script src=https://xeome.github.io/js/callouts.7723cac461d613d118ee8bb8216b9838.min.js></script>
<script>const SEARCH_ENABLED=null,LATEX_ENABLED=!0,PRODUCTION=!0,BASE_URL="https://xeome.github.io/",fetchData=Promise.all([fetch("https://xeome.github.io/indices/linkIndex.cd288e521eb148e056f8fe2efa95bf69.min.json").then(e=>e.json()).then(e=>({index:e.index,links:e.links})),fetch("https://xeome.github.io/indices/contentIndex.8e1827691242f594b692b53fb1cd9e78.min.json").then(e=>e.json())]).then(([{index:e,links:t},n])=>({index:e,links:t,content:n})),render=()=>{const e=new URL(BASE_URL),t=e.pathname,n=window.location.pathname,s=t==n;addCopyButtons(),addTitleToCodeBlocks(),addCollapsibleCallouts(),initPopover("https://xeome.github.io",!0);const o=document.getElementById("footer");if(o){const e=document.getElementById("graph-container");if(!e)return requestAnimationFrame(render);e.textContent="";const t=s&&!0;drawGraph("https://xeome.github.io",t,[{"/moc":"#4388cc"}],t?{centerForce:1,depth:-1,enableDrag:!0,enableLegend:!1,enableZoom:!0,fontSize:.5,linkDistance:1,opacityScale:3,repelForce:1,scale:1.4}:{centerForce:1,depth:1,enableDrag:!0,enableLegend:!1,enableZoom:!0,fontSize:.6,linkDistance:1,opacityScale:3,repelForce:2,scale:1.2})}},init=(e=document)=>{addCopyButtons(),addTitleToCodeBlocks(),renderMathInElement(e.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}],macros:{'â€™':"'"},throwOnError:!1})}</script><script type=module>
    import { attachSPARouting } from "https:\/\/xeome.github.io\/js\/router.9d4974281069e9ebb189f642ae1e3ca2.min.js"
    attachSPARouting(init, render)
  </script></head><script async src="https://www.googletagmanager.com/gtag/js?id=G-XYFD95KB4J"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-XYFD95KB4J",{anonymize_ip:!1})}</script><body><div id=search-container><div id=search-space><input autocomplete=off id=search-bar name=search type=text aria-label=Search placeholder="Search for something..."><div id=results-container></div></div></div><script src=https://cdn.jsdelivr.net/npm/flexsearch@0.7.21/dist/flexsearch.bundle.js integrity="sha256-i3A0NZGkhsKjVMzFxv3ksk0DZh3aXqu0l49Bbh0MdjE=" crossorigin=anonymous defer></script>
<script defer src=https://xeome.github.io/js/full-text-search.51f0b1753e9b30839d053f8a98cc20d1.min.js></script><div class=singlePage><header><h1 id=page-title><a href=https://xeome.github.io/>ðŸª´ Quartz 3.3</a></h1><div class=spacer></div><div id=search-icon><p>Search</p><svg tabindex="0" aria-labelledby="title desc" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.9 19.7"><title id="title">Search Icon</title><desc id="desc">Icon to open search</desc><g class="search-path" fill="none"><path stroke-linecap="square" d="M18.5 18.3l-5.4-5.4"/><circle cx="8" cy="8" r="7"/></g></svg></div><div class=darkmode><input class=toggle id=darkmode-toggle type=checkbox tabindex=-1>
<label id=toggle-label-light for=darkmode-toggle tabindex=-1><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="dayIcon" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35"><title>Light Mode</title><path d="M6 17.5C6 16.672 5.328 16 4.5 16h-3C.672 16 0 16.672.0 17.5S.672 19 1.5 19h3C5.328 19 6 18.328 6 17.5zM7.5 26c-.414.0-.789.168-1.061.439l-2 2C4.168 28.711 4 29.086 4 29.5 4 30.328 4.671 31 5.5 31c.414.0.789-.168 1.06-.44l2-2C8.832 28.289 9 27.914 9 27.5 9 26.672 8.329 26 7.5 26zm10-20C18.329 6 19 5.328 19 4.5v-3C19 .672 18.329.0 17.5.0S16 .672 16 1.5v3C16 5.328 16.671 6 17.5 6zm10 3c.414.0.789-.168 1.06-.439l2-2C30.832 6.289 31 5.914 31 5.5 31 4.672 30.329 4 29.5 4c-.414.0-.789.168-1.061.44l-2 2C26.168 6.711 26 7.086 26 7.5 26 8.328 26.671 9 27.5 9zM6.439 8.561C6.711 8.832 7.086 9 7.5 9 8.328 9 9 8.328 9 7.5c0-.414-.168-.789-.439-1.061l-2-2C6.289 4.168 5.914 4 5.5 4 4.672 4 4 4.672 4 5.5c0 .414.168.789.439 1.06l2 2.001zM33.5 16h-3c-.828.0-1.5.672-1.5 1.5s.672 1.5 1.5 1.5h3c.828.0 1.5-.672 1.5-1.5S34.328 16 33.5 16zM28.561 26.439C28.289 26.168 27.914 26 27.5 26c-.828.0-1.5.672-1.5 1.5.0.414.168.789.439 1.06l2 2C28.711 30.832 29.086 31 29.5 31c.828.0 1.5-.672 1.5-1.5.0-.414-.168-.789-.439-1.061l-2-2zM17.5 29c-.829.0-1.5.672-1.5 1.5v3c0 .828.671 1.5 1.5 1.5s1.5-.672 1.5-1.5v-3C19 29.672 18.329 29 17.5 29zm0-22C11.71 7 7 11.71 7 17.5S11.71 28 17.5 28 28 23.29 28 17.5 23.29 7 17.5 7zm0 18c-4.136.0-7.5-3.364-7.5-7.5s3.364-7.5 7.5-7.5 7.5 3.364 7.5 7.5S21.636 25 17.5 25z"/></svg></label><label id=toggle-label-dark for=darkmode-toggle tabindex=-1><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="nightIcon" viewBox="0 0 100 100" style="enable-background='new 0 0 100 100'"><title>Dark Mode</title><path d="M96.76 66.458c-.853-.852-2.15-1.064-3.23-.534-6.063 2.991-12.858 4.571-19.655 4.571C62.022 70.495 50.88 65.88 42.5 57.5 29.043 44.043 25.658 23.536 34.076 6.47c.532-1.08.318-2.379-.534-3.23-.851-.852-2.15-1.064-3.23-.534-4.918 2.427-9.375 5.619-13.246 9.491-9.447 9.447-14.65 22.008-14.65 35.369.0 13.36 5.203 25.921 14.65 35.368s22.008 14.65 35.368 14.65c13.361.0 25.921-5.203 35.369-14.65 3.872-3.871 7.064-8.328 9.491-13.246C97.826 68.608 97.611 67.309 96.76 66.458z"/></svg></label></div></header><article><p class=meta>Last updated
Dec 24, 2022
<a href=https://github.com/xeome/notes/OSPF.md rel=noopener>Edit Source</a></p><ul class=tags></ul><aside class=mainTOC><details><summary>Table of Contents</summary><nav id=TableOfContents><ol><li><a href=#ospf-packet-types>OSPF Packet Types</a></li><li><a href=#ospf-entries>OSPF Entries</a></li><li><a href=#establishing-ospf-adjacency>Establishing OSPF adjacency</a></li><li><a href=#dr-and-bdr>DR and BDR</a></li><li><a href=#multi-area-ospf>Multi Area OSPF</a></li></ol></nav></details></aside><p>WIP</p><a href=#link-state-routing-protocols><h1 id=link-state-routing-protocols><span class=hanchor arialabel=Anchor># </span>Link-state routing protocols</h1></a><p>In a link-state routing protocol, routers exchange information about the state of their own links through a process called link-state advertising. Each router sends a link-state advertisement (LSA) to all other routers in the network, which contains information about the state of its own links.</p><p>The LSA includes the following information:</p><ul><li>The router&rsquo;s ID: This is a unique identifier for the router.</li><li>The links or neighbors the router is connected to: This includes the destination of the link, the cost or metric of the link, and the status of the link (up or down).</li><li>The sequence number: This is a number that indicates the age of the LSA. The router increments the sequence number each time it sends an updated LSA.</li></ul><p>When a router receives an LSA from another router, it adds the information to its own link-state database and sends a copy of the LSA to all of its own neighbors. This process continues until all routers in the network have received the LSA and have updated their link-state databases.</p><p>The link-state database contains the topological map of the entire network, which the router uses to calculate the shortest path to a destination using a routing algorithm. Link-state protocols are generally considered to be more accurate and efficient than distance-vector protocols because they provide more detailed and up-to-date information about the network.</p><p>The topological map is used to calculate the shortest path between any two points in the network using a routing algorithm, such as Dijkstra&rsquo;s algorithm. This allows the router to determine the best path to send data packets to their destination.</p><p>Link-state routing protocols are generally more complex and require more resources than distance-vector routing protocols, but they offer several advantages. They provide more accurate and up-to-date information about the network, which allows for more efficient routing. They also allow for the creation of hierarchical networks, where the network is divided into smaller areas and only the links between these areas are exchanged between routers, reducing the amount of information exchanged and increasing efficiency.</p><p>One example of a link-state routing protocol is Open Shortest Path First (OSPF).</p><a href=#open-shortest-path-first-ospf><h1 id=open-shortest-path-first-ospf><span class=hanchor arialabel=Anchor># </span>Open Shortest Path First (OSPF)</h1></a><a href=#ospf-packet-types><h2 id=ospf-packet-types><span class=hanchor arialabel=Anchor># </span>OSPF Packet Types</h2></a><p>Open Shortest Path First (OSPF) is a link-state routing protocol that uses five different types of protocol packets or messages to exchange information between routers. These packets are:</p><ol><li><p>Hello: The Hello packet is used to establish and maintain neighbor relationships between routers. It is sent periodically to all of a router&rsquo;s neighbors to confirm that the link is still active and to negotiate the parameters of the OSPF connection, such as the router&rsquo;s ID and the area it belongs to.</p></li><li><p>Database Description (DD): The DD packet is used to exchange link-state information between routers. It is sent by a router to its neighbors to describe the contents of its link-state database. The neighbors then use this information to update their own link-state databases.</p></li><li><p>Link-State Request (LSR): The LSR packet is used to request specific pieces of link-state information from a neighbor. If a router is missing some information in its link-state database, it can send an LSR to request the missing information.</p></li><li><p>Link-State Update (LSU): The LSU packet is used to send link-state information to a neighbor. It is sent in response to an LSR or as part of the regular exchange of link-state information between routers.</p></li><li><p>Link-State Acknowledgment (LSAck): The LSAck packet is used to acknowledge the receipt of an LSU. It is sent by a router to the sender of the LSU to confirm that the link-state information was received and processed correctly.</p></li></ol><p>These five types of OSPF packets are used to establish and maintain neighbor relationships, exchange link-state information, and ensure the accuracy and reliability of the link-state database.</p><a href=#ospf-entries><h2 id=ospf-entries><span class=hanchor arialabel=Anchor># </span>OSPF Entries</h2></a><p>In Open Shortest Path First (OSPF), there are three types of entries or tables that are used to store information about the network. These tables are:</p><ol><li><p>Router table: The router table, also known as the forwarding table, stores information about the routes to all known destinations in the network. It is used by the router to determine the next hop for a packet being forwarded. The router table is populated using the information in the link-state database. <code>display ospf routing</code> command to view routing information.<img src="/notes/assets/img/Pasted image 20221224185350.png" width=auto></p></li><li><p>Link-state database: The link-state database stores a detailed representation of the entire network, including information about the links and neighbors of each router, as well as the cost or metric of each link. The link-state database is populated using link-state advertisements (LSAs) received from other routers. <code>display ospf lsdb</code> command to view lsdb information.<img src="/notes/assets/img/Pasted image 20221224185330.png" width=auto></p></li><li><p>Neighbor table: The neighbor table stores information about the routers that are directly connected to the local router. It includes the router&rsquo;s ID, the link to the neighbor, and the status of the neighbor (up or down). The neighbor table is used to maintain neighbor relationships and exchange link-state information with other routers. <code>displayÂ ospfÂ peer</code>Â commandÂ toÂ viewÂ statusÂ information.<img src="/notes/assets/img/Pasted image 20221224185301.png" width=auto></p></li></ol><p>These three tables are used by OSPF routers to exchange information about the network and determine the best route for forwarding packets to their destination.</p><a href=#establishing-ospf-adjacency><h2 id=establishing-ospf-adjacency><span class=hanchor arialabel=Anchor># </span>Establishing OSPF adjacency</h2></a><p>Routers discover each other through the exchange of Hello packets. When a router receives a Hello packet from a neighbor, it adds the neighbor to its neighbor table and sends a Hello packet back. This establishes a neighbor relationship between the two routers. They negotiate a role to determine which router will be the master and which will be the slave. The master router is responsible for initiating the exchange of link-state information, while the slave router responds to requests for information.</p><p>The role of master or slave is determined based on the following criteria:</p><ol><li><p>Router ID: The router with the highest Router ID becomes the master. The Router ID is a unique identifier for each router, and it is chosen based on the highest IP address of the router&rsquo;s active interfaces.</p></li><li><p>Priority: If the Router IDs are the same, the router with the highest priority becomes the master. The priority is a value between 0 and 255 that can be manually configured on each router. If the priorities are also the same, both routers become masters.</p></li></ol><p>Once a neighbor relationship has been established, the routers begin exchanging link-state information. One router sends a Database Description (DD) packet to the other, describing the <strong>summary</strong> of contents of its link-state database. The other router then sends a Link-State Request (LSR) packet to request any missing information. The first router responds with a Link-State Update (LSU) packet containing the requested information. The other router then sends LSAck to confirm it received the LSU. This process continues until both routers have a complete copy of each other&rsquo;s link-state database.</p><p>Once both routers have a complete copy of each other&rsquo;s link-state database, they are considered to be fully adjacent. They can then begin exchanging routing information and forwarding packets to each other.</p><p><img src="/notes/assets/img/Pasted image 20221224191057.png" width=auto></p><a href=#dr-and-bdr><h2 id=dr-and-bdr><span class=hanchor arialabel=Anchor># </span>DR and BDR</h2></a><p>In Open Shortest Path First (OSPF), the Designated Router (DR) and the Backup Designated Router (BDR) are special roles that are used to reduce the amount of link-state information that is exchanged between routers in a multi-access network, such as a LAN.</p><p>A multi-access network is a type of network where multiple devices are connected to the same physical link, such as a Ethernet switch. In a multi-access network, all the routers are connected to the same broadcast domain, and they can all send and receive packets to and from any other device on the network.</p><p>In OSPF, the DR and BDR are responsible for exchanging link-state information with the other routers in the network. This reduces the amount of link-state information that needs to be exchanged, as the other routers only need to exchange information with the DR and BDR, rather than with every other router on the network.</p><p>The DR is the primary router responsible for exchanging link-state information, while the BDR is a backup router that takes over if the DR fails. The DR and BDR are elected by the routers in the network based on their Router IDs and priorities. The router with the highest Router ID becomes the DR, and the router with the next highest Router ID becomes the BDR. If the Router IDs are the same, the router with the highest priority becomes the DR. If the priorities are also the same, both routers become DRs.</p><p>In summary, the DR and BDR are special roles in OSPF that are used to reduce the amount of link-state information exchanged in a multi-access network. The DR is the primary router responsible for exchanging link-state information, while the BDR is a backup router that takes over if the DR fails. The DR and BDR are elected by the routers in the network based on their Router IDs and priorities.</p><a href=#multi-area-ospf><h2 id=multi-area-ospf><span class=hanchor arialabel=Anchor># </span>Multi Area OSPF</h2></a><p>In Open Shortest Path First (OSPF), a multi-area network is a network that is divided into multiple areas, with each area containing a collection of networks and routers that are connected by a common <strong>area border router (ABR)</strong>. This allows for more efficient routing within the OSPF network, as routers within the same area exchange information about the state of their own links and do not need to exchange information about links in other areas.</p><p>In a multi-area OSPF network, each area is assigned a unique area ID, which is used to identify the area in the link-state database. The ABR is responsible for connecting the area to the rest of the network and exchanging link-state information between the area and the other areas.</p><p>The ABR sends a summary of the link-state information for the area to the other areas in the form of a summary LSA. This allows the other areas to have a high-level view of the networks in the area, without needing to maintain detailed information about every link and router in the area.</p><p>The ABR also maintains a link-state database for the entire network, which includes information about the links and routers in all the areas. This allows the ABR to route packets between areas and to calculate the shortest path between any two points in the network.</p><p>Multi-area OSPF provides several benefits, including improved scalability and reduced network traffic. It also allows for the creation of a hierarchical network structure, which can make it easier to manage and troubleshoot the network.</p></article><hr><div class=page-end id=footer><div class=backlinks-container><h3>Backlinks</h3><ul class=backlinks><li><a href=/notes/Networking/ data-ctx=notes/OSPF data-src=/notes/Networking class=internal-link>Networking</a></li></ul></div><div><script src=https://cdn.jsdelivr.net/npm/d3@6.7.0/dist/d3.min.js integrity="sha256-+7jaYCp29O1JusNWHaYtgUn6EhuP0VaFuswhNV06MyI=" crossorigin=anonymous></script><h3>Interactive Graph</h3><div id=graph-container></div><style>:root{--g-node:var(--secondary);--g-node-active:var(--primary);--g-node-inactive:var(--visited);--g-link:var(--outlinegray);--g-link-active:#5a7282}</style><script src=https://xeome.github.io/js/graph.abd4bc2af3869a96524d7d23b76152c7.js></script></div></div><div id=contact_buttons><footer><p>Made by xeome using <a href=https://github.com/jackyzha0/quartz>Quartz</a>, Â© 2022</p><ul><li><a href=https://xeome.github.io/>Home</a></li><li><a href=https://github.com/xeome>Github</a></li></ul></footer></div></div></body></html>